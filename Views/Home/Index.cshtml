@using Microsoft.AspNetCore.Http;
@{
	var sessionID = Context.Session.GetString( TestWebSiteCore.Startup.SessionKey );
}
<html>
<head>
	<title>Home</title>

	<!-- JQuery & JQueryUI -->
	<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" integrity="sha384-xewr6kSkq3dBbEtB6Z/3oFZmknWn7nHqhLVLrYgzEFRbU/DHSxW7K3B44yWUN60D" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha384-Dziy8F2VlJQLMShA6FHWNul/veM9bCkRUaLqr199K94ntO5QUrLJBEbYegdSkkqX" crossorigin="anonymous"></script>

	<!-- Custom scripts -->
	<script src="~/js/site.js" asp-append-version="true"></script>

</head>
<body>
	This is Home/Index.cshtml<br/>
	SessionID: '@sessionID'<br/>
	<br/>
	Status of connection to server is: <span id="client-status"></span><br/>
	<br/>
	Server time (Method 1): <span id="server-time-get"></span><br/>
	<br/>
	<button id="btn-test-push">Ask the server to push the time 10 times</button><br/>
	Server time (Method 2): <span id="server-time-push">Click the button above</span><br/>
	<br/>
	<button id="btn-test-crash">Test server-side exception</button>

<script type="text/javascript">
	// Function defined in Index.ts
	home_index_init( @Html.Raw(ViewBag.ClientParameters) );
</script>

</body>
</html>
